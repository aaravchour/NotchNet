Every so often there comes a time where you need to test out a multiplayer map in singleplayer and you don't have quick access to other accounts. This tutorial will show you how to load up multiple instances of Minecraft with different usernames on the same computer to join the same world via LAN.
Note that this only works offline, in singleplayer  you will not be able to join any online mode multiplayer servers under any situation in any name you have not purchased and will be prevented from joining any online mode multiplayer servers if your client username does not match.

Find your .minecraft folder.
This is located at %APPDATA%\.minecraft on Windows, ~/Library/Application Support/minecraft on macOS, and ~/.minecraft on Linux.
Open file launcher_accounts.json in a text editor such as Notepad.
In earlier versions of the Minecraft launcher (before Dungeons was added to the main launcher), the file is instead launcher_profiles.json.
Locate the minecraftProfile object with fields id and name.
This object controls the ID and display name of the current Minecraft profile account.
Change the name field to any string of characters.
This username does not need to be a valid account username (containing only letters and underscores), and as such any characters can be put here, and will join a world fine. Note however that commands cannot be used on these names as it does not recognize them as valid, unless surrounded by " or '.
Save and close the file.
Disconnect from the network.
This can be done by simply turning on airplane mode. This can be done by clicking the Wi-Fi icon on the taskbar and selecting the airplane mode button, or if you connect via Ethernet, you can simply unplug the cable.
Open the Minecraft Launcher while the network is disconnected.
Select your profile and click "Play Offline".
You can turn reconnect to the network after this point.
Start a LAN world on your main account and join it with your alternate account!

If you want more than one alternate account, perform the following steps before repeating those above:

Close the Minecraft Launcher.
The program will close but remain active in the background. This is dealt with in the next steps.
Open your task manager (or an equivalent program ending software).
Task Manager on Windows can be opened by right-clicking the Windows logo and selecting "Task Manager".
Scroll down to the "Minecraft Launcher" process.
The list is ordered alphabetically and is found under "background processes".
Select "Minecraft Launcher" and kill the process by pressing "End task".
This must be done because the launcher remains active in the background.
The launcher process must be completely killed to change usernames as while the game is running the session, including current username, is synced with the launcher.